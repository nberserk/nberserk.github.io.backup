* bash
** if
#+BEGIN_SRC sh
  # checking first arg specified or not
  if [ -z "$1" ]; then    
      folder=sparkjob
  else
      folder=$1
  fi

  s1='a'
  s2='b'
  if [ "$s1" = "$s2" ];  then
      echo "equal"
  else
      echo 'not equal'
  fi

  #string compare
#+END_SRC

#+RESULTS:
: not equal

** nohup
DO NOT terminate background job, when i log off.
#+BEGIN_SRC bash
nohup /path/to/command-name arg1 arg2 &
#+END_SRC

* aws
** emr
- doesn't run when no default VPC is absent. https://aws.amazon.com/premiumsupport/knowledge-center/deleted-default-vpc/
- default vpc's 'DNS hostname' should be 'yes'. otherwise emr cluster will be terminated with error.

* org
- file link (org-insert-link)
** babel
- insert code block. <s <tab>
- run code block; C-c C-c

* emacs
- C-x C-e ; eval lisp last lexpr
** artist mode
you can draw rectangle using ascii. 
#+BEGIN_SRC lisp
;; enable mouse right button
(eval-after-load "artist"
   '(define-key artist-mode-map [(down-mouse-3)] 'artist-mouse-choose-operation)
   )
#+END_SRC

* spark sql
- subquery 
#+BEGIN_SRC sql
select value, cnt from  ( select value, count(*) as cnt from user group by d order by d ) inner
where inner.c > 5
#+END_SRC

